!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(t.iroCore={})}(this,function(t){var e="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)",r="[\\s|\\(]+("+e+")[,|\\s]+("+e+")[,|\\s]+("+e+")\\s*\\)?",n="[\\s|\\(]+("+e+")[,|\\s]+("+e+")[,|\\s]+("+e+")[,|\\s]+("+e+")\\s*\\)?",i=new RegExp("rgb"+r),a=new RegExp("rgba"+n),s=new RegExp("hsl"+r),h=new RegExp("hsla"+n),o=new RegExp("^(?:#?|0x?)([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$"),l=new RegExp("^(?:#?|0x?)([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$"),u=new RegExp("^(?:#?|0x?)([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$"),g=new RegExp("^(?:#?|0x?)([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$"),c=Math.log,f=Math.round,v=Math.floor;function d(t,e){var r=t.indexOf("%")>-1,n=parseFloat(t);return r?e/100*n:n}function b(t){return parseInt(t,16)}function p(t){return t.toString(16).padStart(2,"0")}var x=function(t,e){this.$={h:0,s:0,v:0,a:1},t&&this.set(t),this.onChange=e},w={hsv:{configurable:!0},hsva:{configurable:!0},hue:{configurable:!0},saturation:{configurable:!0},value:{configurable:!0},alpha:{configurable:!0},kelvin:{configurable:!0},rgb:{configurable:!0},rgba:{configurable:!0},hsl:{configurable:!0},hsla:{configurable:!0},rgbString:{configurable:!0},rgbaString:{configurable:!0},hexString:{configurable:!0},hex8String:{configurable:!0},hslString:{configurable:!0},hslaString:{configurable:!0}};function S(t){var e=t.width,r=t.sliderSize,n=t.borderWidth,i=t.handleRadius,a=t.padding,s="horizontal"===t.layoutDirection;return r=r||2*a+2*i+2*n,"circle"===t.sliderShape?{handleStart:t.padding+t.handleRadius,handleRange:e-2*a-2*i-2*n,width:e,height:e,cx:e/2,cy:e/2,radius:e/2-n/2}:{handleStart:r/2,handleRange:e-r,radius:r/2,x:0,y:0,width:s?r:e,height:s?e:r}}function m(t){var e=t.color.hsva;switch(t.sliderType){case"alpha":return 100*e.a;case"kelvin":var r=t.minTemperature;return Math.max(0,Math.min((t.color.kelvin-r)/(t.maxTemperature-r)*100,100));case"hue":return e.h/=3.6;case"saturation":return e.s;case"value":default:return e.v}}function y(t){var e=t.width/2;return{width:t.width,radius:e-t.borderWidth,cx:e,cy:e}}function M(t,e){var r=t.wheelAngle;return((e="clockwise"===t.wheelDirection?-360+e-r:r-e)%360+360)%360}function T(t){var e=t.width;return{width:e,height:e,radius:t.padding+t.handleRadius}}x.prototype.set=function(t){if("string"==typeof t)/^(?:#?|0x?)[0-9a-fA-F]{3,8}$/.test(t)?this.hexString=t:/^rgba?/.test(t)?this.rgbString=t:/^hsla?/.test(t)&&(this.hslString=t);else{if("object"!=typeof t)throw new Error("Invalid color value");t instanceof x?this.hsv=t.hsv:"object"==typeof t&&"r"in t&&"g"in t&&"b"in t?this.rgb=t:"object"==typeof t&&"h"in t&&"s"in t&&"v"in t?this.hsv=t:"object"==typeof t&&"h"in t&&"s"in t&&"l"in t&&(this.hsl=t)}},x.prototype.setChannel=function(t,e,r){var n;this[t]=Object.assign({},this[t],((n={})[e]=r,n))},x.prototype.clone=function(){return new x(this)},x.hsvToRgb=function(t){var e=t.h/60,r=t.s/100,n=t.v/100,i=v(e),a=e-i,s=n*(1-r),h=n*(1-a*r),o=n*(1-(1-a)*r),l=i%6;return{r:255*[n,h,s,s,o,n][l],g:255*[o,n,n,h,s,s][l],b:255*[s,s,o,n,n,h][l]}},x.rgbToHsv=function(t){var e=t.r/255,r=t.g/255,n=t.b/255,i=Math.max(e,r,n),a=Math.min(e,r,n),s=i-a,h=0,o=i,l=0===i?0:s/i;switch(i){case a:h=0;break;case e:h=(r-n)/s+(r<n?6:0);break;case r:h=(n-e)/s+2;break;case n:h=(e-r)/s+4}return{h:60*h,s:100*l,v:100*o}},x.hsvToHsl=function(t){var e=t.s/100,r=t.v/100,n=(2-e)*r,i=n<=1?n:2-n;return{h:t.h,s:100*(i<1e-9?0:e*r/i),l:50*n}},x.hslToHsv=function(t){var e=2*t.l,r=t.s*(e<=100?e:200-e)/100;return{h:t.h,s:100*(e+r<1e-9?0:2*r/(e+r)),v:(e+r)/2}},x.kelvinToRgb=function(t){var e,r,n,i=t/100;return i<66?(e=255,r=-155.25485562709179-.44596950469579133*(r=i-2)+104.49216199393888*c(r),n=i<20?0:.8274096064007395*(n=i-10)-254.76935184120902+115.67994401066147*c(n)):(e=351.97690566805693+.114206453784165*(e=i-55)-40.25366309332127*c(e),r=325.4494125711974+.07943456536662342*(r=i-50)-28.0852963507957*c(r),n=255),{r:v(e),g:v(r),b:v(n)}},x.rgbToKelvin=function(t){for(var e,r=t.r,n=t.b,i=1e3,a=4e4;a-i>.4;){var s=x.kelvinToRgb(e=.5*(a+i));s.b/s.r>=n/r?a=e:i=e}return e},w.hsv.get=function(){var t=this.$;return{h:t.h,s:t.s,v:t.v}},w.hsv.set=function(t){var e=this.$;if(t=Object.assign({},e,t),this.onChange){var r={h:!1,v:!1,s:!1,a:!1};for(var n in e)r[n]=t[n]!=e[n];this.$=t,(r.h||r.s||r.v||r.a)&&this.onChange(this,r)}else this.$=t},w.hsva.get=function(){return Object.assign({},this.$)},w.hsva.set=function(t){this.hsv=t},w.hue.get=function(){return this.$.h},w.hue.set=function(t){this.hsv={h:t}},w.saturation.get=function(){return this.$.s},w.saturation.set=function(t){this.hsv={s:t}},w.value.get=function(){return this.$.v},w.value.set=function(t){this.hsv={v:t}},w.alpha.get=function(){return this.$.a},w.alpha.set=function(t){this.hsv=Object.assign({},this.hsv,{a:t})},w.kelvin.get=function(){return x.rgbToKelvin(this.rgb)},w.kelvin.set=function(t){this.rgb=x.kelvinToRgb(t)},w.rgb.get=function(){var t=x.hsvToRgb(this.$),e=t.g,r=t.b;return{r:f(t.r),g:f(e),b:f(r)}},w.rgb.set=function(t){this.hsv=Object.assign({},x.rgbToHsv(t),{a:void 0===t.a?1:t.a})},w.rgba.get=function(){return Object.assign({},this.rgb,{a:this.alpha})},w.rgba.set=function(t){this.rgb=t},w.hsl.get=function(){var t=x.hsvToHsl(this.$),e=t.s,r=t.l;return{h:f(t.h),s:f(e),l:f(r)}},w.hsl.set=function(t){this.hsv=Object.assign({},x.hslToHsv(t),{a:void 0===t.a?1:t.a})},w.hsla.get=function(){return Object.assign({},this.hsl,{a:this.alpha})},w.hsla.set=function(t){this.hsl=t},w.rgbString.get=function(){var t=this.rgb;return"rgb("+t.r+", "+t.g+", "+t.b+")"},w.rgbString.set=function(t){var e,r,n,s,h=1;if((e=i.exec(t))?(r=d(e[1],255),n=d(e[2],255),s=d(e[3],255)):(e=a.exec(t))&&(r=d(e[1],255),n=d(e[2],255),s=d(e[3],255),h=d(e[4],1)),!e)throw new Error("Invalid rgb string");this.rgb={r:r,g:n,b:s,a:h}},w.rgbaString.get=function(){var t=this.rgba;return"rgba("+t.r+", "+t.g+", "+t.b+", "+t.a+")"},w.rgbaString.set=function(t){this.rgbString=t},w.hexString.get=function(){var t=this.rgb;return"#"+p(t.r)+p(t.g)+p(t.b)},w.hexString.set=function(t){var e,r,n,i,a=255;if((e=o.exec(t))?(r=17*b(e[1]),n=17*b(e[2]),i=17*b(e[3])):(e=l.exec(t))?(r=17*b(e[1]),n=17*b(e[2]),i=17*b(e[3]),a=17*b(e[4])):(e=u.exec(t))?(r=b(e[1]),n=b(e[2]),i=b(e[3])):(e=g.exec(t))&&(r=b(e[1]),n=b(e[2]),i=b(e[3]),a=b(e[4])),!e)throw new Error("Invalid hex string");this.rgb={r:r,g:n,b:i,a:a/255}},w.hex8String.get=function(){var t=this.rgba;return"#"+p(t.r)+p(t.g)+p(t.b)+p(v(255*t.a))},w.hex8String.set=function(t){this.hexString=t},w.hslString.get=function(){var t=this.hsl;return"hsl("+t.h+", "+t.s+"%, "+t.l+"%)"},w.hslString.set=function(t){var e,r,n,i,a=1;if((e=s.exec(t))?(r=d(e[1],360),n=d(e[2],100),i=d(e[3],100)):(e=h.exec(t))&&(r=d(e[1],360),n=d(e[2],100),i=d(e[3],100),a=d(e[4],1)),!e)throw new Error("Invalid hsl string");this.hsl={h:r,s:n,l:i,a:a}},w.hslaString.get=function(){var t=this.hsla;return"hsl("+t.h+", "+t.s+"%, "+t.l+"%, "+t.a+")"},w.hslaString.set=function(t){this.hslString=t},Object.defineProperties(x.prototype,w);var R=document.getElementsByTagName("base");t.IroColor=x,t.sliderDefaultOptions={sliderShape:"bar",sliderType:"value",minTemperature:2200,maxTemperature:11e3},t.getSliderStyles=function(t){var e;return(e={})["horizontal"===t.layoutDirection?"marginLeft":"marginTop"]=t.sliderMargin,e},t.getSliderDimensions=S,t.getCurrentSliderValue=m,t.getSliderValueFromInput=function(t,e,r,n){var i,a=S(t),s=a.handleRange,h=a.handleStart;i="horizontal"===t.layoutDirection?-1*(r-n.top)+s+h:e-(n.left+h),i=Math.max(Math.min(i,s),0);var o=Math.round(100/s*i);switch(t.sliderType){case"kelvin":var l=t.minTemperature;return l+o/100*(t.maxTemperature-l);case"alpha":return o/100;case"hue":return 3.6*o;default:return o}},t.getSliderHandlePosition=function(t){var e=S(t),r=e.handleRange,n=e.handleStart,i="horizontal"===t.layoutDirection,a=i?e.width/2:e.height/2,s=n+m(t)/100*r;return i&&(s=-1*s+r+2*n),{x:i?a:s,y:i?s:a}},t.getSliderGradient=function(t){var e=t.color.hsv;switch(t.sliderType){case"alpha":var r=t.color.rgb;return[[0,"rgba("+r.r+","+r.g+","+r.b+",0)"],[100,"rgb("+r.r+","+r.g+","+r.b+")"]];case"kelvin":for(var n=[],i=t.minTemperature,a=t.maxTemperature,s=a-i,h=i,o=0;h<a;h+=s/8,o+=1){var l=x.kelvinToRgb(h);n.push([12.5*o,"rgb("+l.r+","+l.g+","+l.b+")"])}return n;case"hue":return[[0,"#f00"],[16.666,"#ff0"],[33.333,"#0f0"],[50,"#0ff"],[66.666,"#00f"],[83.333,"#f0f"],[100,"#f00"]];case"saturation":var u=x.hsvToHsl({h:e.h,s:0,v:e.v}),g=x.hsvToHsl({h:e.h,s:100,v:e.v});return[[0,"hsl("+u.h+","+u.s+"%,"+u.l+"%)"],[100,"hsl("+g.h+","+g.s+"%,"+g.l+"%)"]];case"value":default:var c=x.hsvToHsl({h:e.h,s:e.s,v:100});return[[0,"#000"],[100,"hsl("+c.h+","+c.s+"%,"+c.l+"%)"]]}},t.getSliderGradientCoords=function(t){var e="horizontal"===t.layoutDirection;return{x1:"0%",y1:e?"100%":"0%",x2:e?"0%":"100%",y2:"0%"}},t.getWheelDimensions=y,t.translateWheelAngle=M,t.getWheelHandlePosition=function(t){var e=t.color.hsv,r=y(t),n=r.cx,i=r.cy,a=t.width/2-t.padding-t.handleRadius-t.borderWidth,s=M(t,e.h)*(Math.PI/180),h=e.s/100*a,o="clockwise"===t.wheelDirection?-1:1;return{x:n+h*Math.cos(s)*o,y:i+h*Math.sin(s)*o}},t.getWheelValueFromInput=function(t,e,r,n){var i=y(t),a=t.width/2-t.padding-t.handleRadius-t.borderWidth;e=i.cx-(e-n.left),r=i.cy-(r-n.top);var s=M(t,Math.atan2(-r,-e)*(180/Math.PI)),h=Math.min(Math.sqrt(e*e+r*r),a);return{h:Math.round(s),s:Math.round(100/a*h)}},t.getBoxStyles=function(t){var e;return(e={})["horizontal"===t.layoutDirection?"marginLeft":"marginTop"]=t.sliderMargin,e},t.getBoxDimensions=T,t.getBoxValueFromInput=function(t,e,r,n){var i=T(t),a=i.radius,s=(r-=n.top+a)/(i.height-2*a)*100;return{s:Math.max(0,Math.min((e-=n.left+a)/(i.width-2*a)*100,100)),v:Math.max(0,Math.min(100-s,100))}},t.getBoxHandlePosition=function(t){var e=T(t),r=e.radius,n=t.color.hsv,i=e.height-2*r;return{x:r+n.s/100*(e.width-2*r),y:r+(i-n.v/100*i)}},t.getBoxGradients=function(t){return[[[0,"#fff"],[100,"hsl("+t.color.hue+",100%,50%)"]],[[0,"rgba(0,0,0,0)"],[100,"#000"]]]},t.resolveSvgUrl=function(t){var e=window.navigator.userAgent,r=/^((?!chrome|android).)*safari/i.test(e),n=/iPhone|iPod|iPad/i.test(e),i=window.location;return(r||n)&&R.length>0?i.protocol+"//"+i.host+i.pathname+i.search+t:t},t.getSvgArcPath=function(t,e,r,n,i){var a=i-n<=180?0:1;return n*=Math.PI/180,i*=Math.PI/180,"M "+(t+r*Math.cos(i))+" "+(e+r*Math.sin(i))+" A "+r+" "+r+" 0 "+a+" 0 "+(t+r*Math.cos(n))+" "+(e+r*Math.sin(n))},t.iroColorPickerOptionDefaults={width:300,height:300,handleRadius:8,handleSvg:null,handleProps:{x:0,y:0},color:"#fff",borderColor:"#fff",borderWidth:0,wheelLightness:!0,wheelAngle:0,wheelDirection:"anticlockwise",layoutDirection:"vertical",sliderSize:null,sliderMargin:12,padding:6}});
//# sourceMappingURL=iro-core.umd.js.map
