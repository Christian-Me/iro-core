!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(e.iroCore={})}(this,function(e){var t="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)",r="[\\s|\\(]+("+t+")[,|\\s]+("+t+")[,|\\s]+("+t+")\\s*\\)?",n="[\\s|\\(]+("+t+")[,|\\s]+("+t+")[,|\\s]+("+t+")[,|\\s]+("+t+")\\s*\\)?",i=new RegExp("rgb"+r),a=new RegExp("rgba"+n),s=new RegExp("hsl"+r),h=new RegExp("hsla"+n),o=new RegExp("^(?:#?|0x?)([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$"),l=new RegExp("^(?:#?|0x?)([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$"),u=new RegExp("^(?:#?|0x?)([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$"),g=new RegExp("^(?:#?|0x?)([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$"),c=Math.log,f=Math.round,v=Math.floor;function d(e,t){var r=e.indexOf("%")>-1,n=parseFloat(e);return r?t/100*n:n}function b(e){return parseInt(e,16)}function p(e){return e.toString(16).padStart(2,"0")}var x=function(e,t){this.$={h:0,s:0,v:0,a:1},e&&this.set(e),this.onChange=t},S={hsv:{configurable:!0},hsva:{configurable:!0},hue:{configurable:!0},saturation:{configurable:!0},value:{configurable:!0},alpha:{configurable:!0},kelvin:{configurable:!0},rgb:{configurable:!0},rgba:{configurable:!0},hsl:{configurable:!0},hsla:{configurable:!0},rgbString:{configurable:!0},rgbaString:{configurable:!0},hexString:{configurable:!0},hex8String:{configurable:!0},hslString:{configurable:!0},hslaString:{configurable:!0}};function w(e){var t=e.width,r=e.sliderHeight,n=e.borderWidth,i=e.handleRadius,a=e.padding,s="vertical"===e.layoutDirection;return r=r||2*a+2*i+2*n,"circle"===e.sliderShape?{handleStart:e.padding+e.handleRadius,handleRange:t-2*a-2*i-2*n,width:t,height:t,cx:t/2,cy:t/2,radius:t/2-n/2}:{handleStart:r/2,handleRange:t-r,radius:r/2,x:0,y:0,width:s?r:t,height:s?t:r}}function m(e){var t=e.color.hsva;switch(e.sliderType){case"alpha":return 100*t.a;case"temperature":var r=e.minTemperature;return Math.max(0,Math.min((e.color.kelvin-r)/(e.maxTemperature-r)*100,100));case"hue":return t.h/=3.6;case"saturation":return t.s;case"value":default:return t.v}}function y(e,t){var r=e.wheelAngle;return((t="clockwise"===e.wheelDirection?-360+t-r:r-t)%360+360)%360}function T(e){var t=e.width/2;return{x:t,y:t}}x.prototype.set=function(e){if("string"==typeof e)/^(?:#?|0x?)[0-9a-fA-F]{3,8}$/.test(e)?this.hexString=e:/^rgba?/.test(e)?this.rgbString=e:/^hsla?/.test(e)&&(this.hslString=e);else{if("object"!=typeof e)throw new Error("Invalid color value");e instanceof x?this.hsv=e.hsv:"object"==typeof e&&"r"in e&&"g"in e&&"b"in e?this.rgb=e:"object"==typeof e&&"h"in e&&"s"in e&&"v"in e?this.hsv=e:"object"==typeof e&&"h"in e&&"s"in e&&"l"in e&&(this.hsl=e)}},x.prototype.setChannel=function(e,t,r){var n;this[e]=Object.assign({},this[e],((n={})[t]=r,n))},x.prototype.clone=function(){return new x(this)},x.hsvToRgb=function(e){var t=e.h/60,r=e.s/100,n=e.v/100,i=v(t),a=t-i,s=n*(1-r),h=n*(1-a*r),o=n*(1-(1-a)*r),l=i%6;return{r:255*[n,h,s,s,o,n][l],g:255*[o,n,n,h,s,s][l],b:255*[s,s,o,n,n,h][l]}},x.rgbToHsv=function(e){var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.max(t,r,n),a=Math.min(t,r,n),s=i-a,h=0,o=i,l=0===i?0:s/i;switch(i){case a:h=0;break;case t:h=(r-n)/s+(r<n?6:0);break;case r:h=(n-t)/s+2;break;case n:h=(t-r)/s+4}return{h:60*h,s:100*l,v:100*o}},x.hsvToHsl=function(e){var t=e.s/100,r=e.v/100,n=(2-t)*r,i=n<=1?n:2-n;return{h:e.h,s:100*(i<1e-9?0:t*r/i),l:50*n}},x.hslToHsv=function(e){var t=2*e.l,r=e.s*(t<=100?t:200-t)/100;return{h:e.h,s:100*(t+r<1e-9?0:2*r/(t+r)),v:(t+r)/2}},x.kelvinToRgb=function(e){var t,r,n,i=e/100;return i<66?(t=255,r=-155.25485562709179-.44596950469579133*(r=i-2)+104.49216199393888*c(r),n=i<20?0:.8274096064007395*(n=i-10)-254.76935184120902+115.67994401066147*c(n)):(t=351.97690566805693+.114206453784165*(t=i-55)-40.25366309332127*c(t),r=325.4494125711974+.07943456536662342*(r=i-50)-28.0852963507957*c(r),n=255),{r:v(t),g:v(r),b:v(n)}},x.rgbToKelvin=function(e){for(var t,r=e.r,n=e.b,i=1e3,a=4e4;a-i>.4;){var s=x.kelvinToRgb(t=.5*(a+i));s.b/s.r>=n/r?a=t:i=t}return t},S.hsv.get=function(){var e=this.$;return{h:e.h,s:e.s,v:e.v}},S.hsv.set=function(e){var t=this.$;if(e=Object.assign({},t,e),this.onChange){var r={h:!1,v:!1,s:!1,a:!1};for(var n in t)r[n]=e[n]!=t[n];this.$=e,(r.h||r.s||r.v||r.a)&&this.onChange(this,r)}else this.$=e},S.hsva.get=function(){return Object.assign({},this.$)},S.hsva.set=function(e){this.hsv=e},S.hue.get=function(){return this.$.h},S.hue.set=function(e){this.hsv={h:e}},S.saturation.get=function(){return this.$.s},S.saturation.set=function(e){this.hsv={s:e}},S.value.get=function(){return this.$.v},S.value.set=function(e){this.hsv={s:e}},S.alpha.get=function(){return this.$.a},S.alpha.set=function(e){this.hsv=Object.assign({},this.hsv,{a:e})},S.kelvin.get=function(){return x.rgbToKelvin(this.rgb)},S.kelvin.set=function(e){this.rgb=x.kelvinToRgb(e)},S.rgb.get=function(){var e=x.hsvToRgb(this.$),t=e.g,r=e.b;return{r:f(e.r),g:f(t),b:f(r)}},S.rgb.set=function(e){this.hsv=Object.assign({},x.rgbToHsv(e),{a:void 0===e.a?1:e.a})},S.rgba.get=function(){return Object.assign({},this.rgb,{a:this.alpha})},S.rgba.set=function(e){this.rgb=e},S.hsl.get=function(){var e=x.hsvToHsl(this.$),t=e.s,r=e.l;return{h:f(e.h),s:f(t),l:f(r)}},S.hsl.set=function(e){this.hsv=Object.assign({},x.hslToHsv(e),{a:void 0===e.a?1:e.a})},S.hsla.get=function(){return Object.assign({},this.hsl,{a:this.alpha})},S.hsla.set=function(e){this.hsl=e},S.rgbString.get=function(){var e=this.rgb;return"rgb("+e.r+", "+e.g+", "+e.b+")"},S.rgbString.set=function(e){var t,r,n,s,h=1;if((t=i.exec(e))?(r=d(t[1],255),n=d(t[2],255),s=d(t[3],255)):(t=a.exec(e))&&(r=d(t[1],255),n=d(t[2],255),s=d(t[3],255),h=d(t[4],1)),!t)throw new Error("Invalid rgb string");this.rgb={r:r,g:n,b:s,a:h}},S.rgbaString.get=function(){var e=this.rgba;return"rgba("+e.r+", "+e.g+", "+e.b+", "+e.a+")"},S.rgbaString.set=function(e){this.rgbString=e},S.hexString.get=function(){var e=this.rgb;return"#"+p(e.r)+p(e.g)+p(e.b)},S.hexString.set=function(e){var t,r,n,i,a=255;if((t=o.exec(e))?(r=17*b(t[1]),n=17*b(t[2]),i=17*b(t[3])):(t=l.exec(e))?(r=17*b(t[1]),n=17*b(t[2]),i=17*b(t[3]),a=17*b(t[4])):(t=u.exec(e))?(r=b(t[1]),n=b(t[2]),i=b(t[3])):(t=g.exec(e))&&(r=b(t[1]),n=b(t[2]),i=b(t[3]),a=b(t[4])),!t)throw new Error("Invalid hex string");this.rgb={r:r,g:n,b:i,a:a/255}},S.hex8String.get=function(){var e=this.rgba;return"#"+p(e.r)+p(e.g)+p(e.b)+p(v(255*e.a))},S.hex8String.set=function(e){this.hexString=e},S.hslString.get=function(){var e=this.hsl;return"hsl("+e.h+", "+e.s+"%, "+e.l+"%)"},S.hslString.set=function(e){var t,r,n,i,a=1;if((t=s.exec(e))?(r=d(t[1],360),n=d(t[2],100),i=d(t[3],100)):(t=h.exec(e))&&(r=d(t[1],360),n=d(t[2],100),i=d(t[3],100),a=d(t[4],1)),!t)throw new Error("Invalid hsl string");this.hsl={h:r,s:n,l:i,a:a}},S.hslaString.get=function(){var e=this.hsla;return"hsl("+e.h+", "+e.s+"%, "+e.l+"%, "+e.a+")"},S.hslaString.set=function(e){this.hslString=e},Object.defineProperties(x.prototype,S);var M=document.getElementsByTagName("base");e.IroColor=x,e.sliderDefaultOptions={sliderShape:"bar",sliderType:"value",minTemperature:2200,maxTemperature:11e3},e.getSliderStyles=function(e){var t;return(t={})["vertical"===e.layoutDirection?"marginLeft":"marginTop"]=e.sliderMargin,t},e.getSliderDimensions=w,e.getCurrentSliderValue=m,e.getSliderValueFromInput=function(e,t,r,n){var i,a=w(e),s=a.handleRange,h=a.handleStart;i="vertical"===e.layoutDirection?-1*(r-n.top)+s+h:t-(n.left+h),i=Math.max(Math.min(i,s),0);var o=Math.round(100/s*i);switch(e.sliderType){case"temperature":var l=e.minTemperature;return l+o/100*(e.maxTemperature-l);case"alpha":return o/100;case"hue":return 3.6*o;default:return o}},e.getSliderHandlePosition=function(e){var t=w(e),r=t.handleRange,n=t.handleStart,i="vertical"===e.layoutDirection,a=i?t.width/2:t.height/2,s=n+m(e)/100*r;return i&&(s=-1*s+r+2*n),{x:i?a:s,y:i?s:a}},e.getSliderGradient=function(e){var t=e.color.hsv;switch(e.sliderType){case"alpha":var r=e.color.rgb;return[[0,"rgba("+r.r+", "+r.g+", "+r.b+", 0)"],[100,"rgba("+r.r+", "+r.g+", "+r.b+", 1)"]];case"temperature":for(var n=[],i=e.minTemperature,a=e.maxTemperature,s=a-i,h=i,o=0;h<a;h+=s/8,o+=1){var l=x.kelvinToRgb(h);n.push([12.5*o,"rgb("+l.r+","+l.g+","+l.b+")"])}return n;case"hue":return[[0,"#f00"],[16.666,"#ff0"],[33.333,"#0f0"],[50,"#0ff"],[66.666,"#00f"],[83.333,"#f0f"],[100,"#f00"]];case"saturation":var u=x.hsvToHsl({h:t.h,s:0,v:t.v}),g=x.hsvToHsl({h:t.h,s:100,v:t.v});return[[0,"hsl("+u.h+", "+u.s+"%, "+u.l+"%)"],[100,"hsl("+g.h+", "+g.s+"%, "+g.l+"%)"]];case"value":default:var c=x.hsvToHsl({h:t.h,s:t.s,v:100});return[[0,"#000"],[100,"hsl("+c.h+", "+c.s+"%, "+c.l+"%)"]]}},e.getSliderGradientCoords=function(e){var t="vertical"===e.layoutDirection;return{x1:"0%",y1:t?"100%":"0%",x2:t?"0%":"100%",y2:"0%"}},e.translateWheelAngle=y,e.getWheelCenter=T,e.getWheelHandlePosition=function(e){var t=e.color.hsv,r=T(e),n=e.width/2-e.padding-e.handleRadius-e.borderWidth,i=y(e,t.h)*(Math.PI/180),a=t.s/100*n,s="clockwise"===e.wheelDirection?-1:1;return{x:r.x+a*Math.cos(i)*s,y:r.y+a*Math.sin(i)*s}},e.getWheelValueFromInput=function(e,t,r,n){var i=T(e),a=e.width/2-e.padding-e.handleRadius-e.borderWidth;t=i.x-(t-n.left),r=i.y-(r-n.top);var s=y(e,Math.atan2(-r,-t)*(180/Math.PI)),h=Math.min(Math.sqrt(t*t+r*r),a);return{h:Math.round(s),s:Math.round(100/a*h)}},e.resolveSvgUrl=function(e){var t=window.navigator.userAgent,r=/^((?!chrome|android).)*safari/i.test(t),n=/iPhone|iPod|iPad/i.test(t),i=window.location;return(r||n)&&M.length>0?i.protocol+"//"+i.host+i.pathname+i.search+e:e},e.getSvgArcPath=function(e,t,r,n,i){var a=i-n<=180?0:1;return n*=Math.PI/180,i*=Math.PI/180,"M "+(e+r*Math.cos(i))+" "+(t+r*Math.sin(i))+" A "+r+" "+r+" 0 "+a+" 0 "+(e+r*Math.cos(n))+" "+(t+r*Math.sin(n))},e.iroColorPickerOptionDefaults={width:300,height:300,handleRadius:8,handleSvg:null,handleOrigin:{x:0,y:0},color:"#fff",borderColor:"#fff",borderWidth:0,wheelLightness:!0,wheelAngle:0,wheelDirection:"anticlockwise",sliderHeight:null,sliderMargin:12,padding:6}});
//# sourceMappingURL=iro-core.umd.js.map
