!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(t.iroCore={})}(this,function(t){function e(t,e){var r=t.indexOf("%")>-1,n=parseFloat(t);return r?e/100*n:n}function r(t){return parseInt(t,16)}function n(t){return t.toString(16).padStart(2,"0")}var s="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)",i="[\\s|\\(]+("+s+")[,|\\s]+("+s+")[,|\\s]+("+s+")\\s*\\)?",o="[\\s|\\(]+("+s+")[,|\\s]+("+s+")[,|\\s]+("+s+")[,|\\s]+("+s+")\\s*\\)?",h=new RegExp("rgb"+i),a=new RegExp("rgba"+o),f=new RegExp("hsl"+i),l=new RegExp("hsla"+o),u=new RegExp("^(?:#?|0x?)([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$"),c=new RegExp("^(?:#?|0x?)([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$"),g=new RegExp("^(?:#?|0x?)([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$"),v=new RegExp("^(?:#?|0x?)([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$"),d=function(t,e){this.onChange=e,this.value={h:0,s:0,v:0,a:1},t&&this.set(t)},b={hsv:{configurable:!0},rgb:{configurable:!0},hsl:{configurable:!0},rgbString:{configurable:!0},hexString:{configurable:!0},hslString:{configurable:!0}};function p(t){var e=t.sliderHeight;return{radius:(e=e||2*t.padding+2*t.handleRadius+2*t.borderWidth)/2,x:0,y:0,width:t.width,height:e}}function x(t){var e=t.color.hsv;switch(t.sliderType){case"hue":return e.h/=3.6;case"saturation":return e.s;case"value":default:return e.v}}function w(t,e){var r=t.wheelAngle;return((e="clockwise"===t.wheelDirection?-360+e-r:r-e)%360+360)%360}function M(t){var e=t.width/2;return{x:e,y:e}}d.prototype.set=function(t){var e="string"==typeof t,r="object"==typeof t;if(e&&/^(?:#?|0x?)[0-9a-fA-F]{3,8}$/.test(t))this.hexString=t;else if(e&&/^rgba?/.test(t))this.rgbString=t;else if(e&&/^hsla?/.test(t))this.hslString=t;else if(r&&t instanceof d)this.hsv=t.hsv;else if(r&&function(t){return"r"in t&&"g"in t&&"b"in t}(t))this.rgb=t;else if(r&&function(t){return"h"in t&&"s"in t&&"v"in t}(t))this.hsv=t;else{if(!r||!function(t){return"h"in t&&"s"in t&&"l"in t}(t))throw new Error("invalid color value");this.hsl=t}},d.prototype.setChannel=function(t,e,r){var n;this[t]=Object.assign({},this[t],((n={})[e]=r,n))},d.prototype.clone=function(){return new d(this)},d.hsvToRgb=function(t){var e=t.h/60,r=t.s/100,n=t.v/100,s=Math.floor(e),i=e-s,o=n*(1-r),h=n*(1-i*r),a=n*(1-(1-i)*r),f=s%6;return{r:255*[n,h,o,o,a,n][f],g:255*[a,n,n,h,o,o][f],b:255*[o,o,a,n,n,h][f]}},d.rgbToHsv=function(t){var e=t.r/255,r=t.g/255,n=t.b/255,s=Math.max(e,r,n),i=Math.min(e,r,n),o=s-i,h=0,a=s,f=0===s?0:o/s;switch(s){case i:h=0;break;case e:h=(r-n)/o+(r<n?6:0);break;case r:h=(n-e)/o+2;break;case n:h=(e-r)/o+4}return{h:60*h,s:100*f,v:100*a}},d.hsvToHsl=function(t){var e=t.s/100,r=t.v/100,n=(2-e)*r,s=n<=1?n:2-n;return{h:t.h,s:100*(s<1e-9?0:e*r/s),l:50*n}},d.hslToHsv=function(t){var e=2*t.l,r=t.s*(e<=100?e:200-e)/100;return{h:t.h,s:100*(e+r<1e-9?0:2*r/(e+r)),v:(e+r)/2}},b.hsv.get=function(){var t=this.value;return{h:t.h,s:t.s,v:t.v}},b.hsv.set=function(t){var e=this.value;if(t=Object.assign({},e,t),this.onChange){var r={h:!1,v:!1,s:!1};for(var n in e)r[n]=t[n]!=e[n];this.value=t,(r.h||r.s||r.v||r.a)&&this.onChange(this,r)}else this.value=t},b.rgb.get=function(){var t=d.hsvToRgb(this.value),e=t.g,r=t.b;return{r:Math.round(t.r),g:Math.round(e),b:Math.round(r)}},b.rgb.set=function(t){this.hsv=Object.assign({},d.rgbToHsv(t))},b.hsl.get=function(){var t=d.hsvToHsl(this.value),e=t.s,r=t.l;return{h:Math.round(t.h),s:Math.round(e),l:Math.round(r)}},b.hsl.set=function(t){this.hsv=Object.assign({},d.hslToHsv(t))},b.rgbString.get=function(){var t=this.rgb;return"rgb("+t.r+", "+t.g+", "+t.b+")"},b.rgbString.set=function(t){var r,n,s,i,o=1;if((r=h.exec(t))?(n=e(r[1],255),s=e(r[2],255),i=e(r[3],255)):(r=a.exec(t))&&(n=e(r[1],255),s=e(r[2],255),i=e(r[3],255),o=e(r[4],1)),!r)throw new Error("invalid rgb string");this.rgb={r:n,g:s,b:i,a:o}},b.hexString.get=function(){var t=this.rgb;return"#"+n(t.r)+n(t.g)+n(t.b)},b.hexString.set=function(t){var e,n,s,i,o=255;if((e=u.exec(t))?(n=17*r(e[1]),s=17*r(e[2]),i=17*r(e[3])):(e=c.exec(t))?(n=17*r(e[1]),s=17*r(e[2]),i=17*r(e[3]),o=17*r(e[4])):(e=g.exec(t))?(n=r(e[1]),s=r(e[2]),i=r(e[3])):(e=v.exec(t))&&(n=r(e[1]),s=r(e[2]),i=r(e[3]),o=r(e[4])),!e)throw new Error("invalid hex string");this.rgb={r:n,g:s,b:i,a:o/255}},b.hslString.get=function(){var t=this.hsl;return"hsl("+t.h+", "+t.s+"%, "+t.l+"%)"},b.hslString.set=function(t){var r,n,s,i,o=1;if((r=f.exec(t))?(n=e(r[1],360),s=e(r[2],100),i=e(r[3],100)):(r=l.exec(t))&&(n=e(r[1],360),s=e(r[2],100),i=e(r[3],100),o=e(r[4],1)),!r)throw new Error("invalid hsl string");this.hsl={h:n,s:s,l:i,a:o}},Object.defineProperties(d.prototype,b),t.IroColor=d,t.getSliderDimensions=p,t.getCurrentSliderValue=x,t.getSliderValueFromInput=function(t,e,r,n){var s=n.width-n.height,i=e-(n.left+n.height/2);return i=Math.max(Math.min(i,s),0),Math.round(100/s*i)},t.getSliderHandlePosition=function(t){var e=p(t),r=e.width,n=e.height,s=e.radius;return{x:s+x(t)/100*(r-2*s),y:n/2}},t.getSliderGradient=function(t){var e=t.color.hsv;switch(t.sliderType){case"hue":return[{offset:"0",color:"#f00"},{offset:"16.666",color:"#ff0"},{offset:"33.333",color:"#0f0"},{offset:"50",color:"#0ff"},{offset:"66.666",color:"#00f"},{offset:"83.333",color:"#f0f"},{offset:"100",color:"#f00"}];case"saturation":var r=d.hsvToHsl({h:e.h,s:0,v:e.v}),n=d.hsvToHsl({h:e.h,s:100,v:e.v});return[{offset:"0",color:"hsl("+r.h+", "+r.s+"%, "+r.l+"%)"},{offset:"100",color:"hsl("+n.h+", "+n.s+"%, "+n.l+"%)"}];case"value":default:var s=d.hsvToHsl({h:e.h,s:e.s,v:100});return[{offset:"0",color:"#000"},{offset:"100",color:"hsl("+s.h+", "+s.s+"%, "+s.l+"%)"}]}},t.translateWheelAngle=w,t.getWheelCenter=M,t.getWheelHandlePosition=function(t){var e=t.color.hsv,r=t.borderWidth,n=t.padding,s=t.handleRadius,i=t.wheelDirection,o=t.width/2-r,h=M(t),a=w(t,e.h)*(Math.PI/180),f=e.s/100*(o-n-s-r),l="clockwise"===i?-1:1;return{x:h.x+f*Math.cos(a)*l,y:h.y+f*Math.sin(a)*l}},t.getWheelValueFromInput=function(t,e,r,n){var s=t.width/2,i=s-t.padding-t.handleRadius-t.borderWidth;e=s-(e-n.left),r=s-(r-n.top);var o=Math.atan2(r,e),h=w(t,Math.round(o*(180/Math.PI))+180),a=Math.min(Math.sqrt(e*e+r*r),i);return{h:h,s:Math.round(100/i*a)}},t.resolveSvgUrl=function(t){var e=window.navigator.userAgent,r=/^((?!chrome|android).)*safari/i.test(e),n=/iPhone|iPod|iPad/i.test(e),s=window.location;return r||n?s.protocol+"//"+s.host+s.pathname+s.search+t:t},t.getSvgArcPath=function(t,e,r,n,s){var i=s-n<=180?0:1;return n*=Math.PI/180,s*=Math.PI/180,"M "+(t+r*Math.cos(s))+" "+(e+r*Math.sin(s))+" A "+r+" "+r+" 0 "+i+" 0 "+(t+r*Math.cos(n))+" "+(e+r*Math.sin(n))}});
//# sourceMappingURL=iro-core.umd.js.map
